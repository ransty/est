function getWorkloadValues(){xInput=document.getElementsByClassName("x"),x=copy(xInput)}function getV02MaxValues(){yInput=document.getElementsByClassName("y"),y=copy(yInput)}function copy(t){for(var e=[],n=0;n<t.length;n++)""!=t[n].value&&(e[n]=parseFloat(t[n].value));return e}function getMaximumValue(t){for(var e=-99999,n=0;n<t.length;n++)t[n]>=e&&(e=t[n]);return e}function getMinimumValue(t){for(var e=99999,n=0;n<t.length;n++)t[n]<=e&&(e=t[n]);return e}function grabInput(){getWorkloadValues(),getV02MaxValues(),sumX=sum(x),sumY=sum(y),sumX2=multiplySum(x,x),sumXY=multiplySum(x,y),slope=(x.length*sumXY-sumX*sumY)/(x.length*sumX2-sumX*sumX),intercept=(sumY-slope*sumX)/x.length,lineX2=getMaximumValue(x),lineX1=getMinimumValue(x),maxY=getMaximumValue(y),lineY1=regression(0),lineY2=regression(lineX2);for(var t=0;t<x.length;t++)dataset.push([x[t],y[t]]);InitChart()}function multiplySum(t,e){for(var n=0,a=0;a<t.length;a++)n+=t[a]*e[a];return n}function sum(t){for(var e=0,n=0;n<t.length;n++)e+=parseFloat(t[n]);return e}function regression(t){return slope*t+intercept}function InitChart(){var t={top:20,right:20,bottom:20,left:50},e=700-t.left-t.right,n=500-t.top-t.bottom,a=[{x:lineX1,y:lineY1},{x:lineX2,y:lineY2}],r=dataset,e=700-(t={top:20,right:20,bottom:20,left:50}).left-t.right,n=500-t.top-t.bottom,l=d3.scale.linear().domain([0,lineX2+5]).range([0,e]),i=d3.scale.linear().domain([0,maxY+5]).range([n,0]),s=d3.select("#visualisation").append("svg:svg").attr("width",e+t.right+t.left).attr("height",n+t.top+t.bottom).attr("class","chart").append("g").attr("transform","translate("+t.left+","+t.top+")").attr("width",e).attr("height",n).attr("class","main"),u=d3.svg.axis().scale(l).orient("bottom");s.append("g").attr("transform","translate(0,"+n+")").attr("class","main axis date").call(u);var o=d3.svg.axis().scale(i).orient("left");s.append("g").attr("transform","translate(0,0)").attr("class","main axis date").call(o);var m=s.append("svg:g");m.selectAll("scatter-dots").data(r).enter().append("svg:circle").attr("cx",function(t,e){return l(t[0])}).attr("cy",function(t){return i(t[1])}).attr("r",5,5).append("svg:title").text(function(t){return t});var p=d3.svg.line().x(function(t){return l(t.x)}).y(function(t){return i(t.y)}).interpolate("linear");m.append("svg:path").attr("d",p(a)).attr("stroke","red").attr("stroke-width",2).attr("fill","none").append("svg:title").text(function(t){return"X-Intercept: "+intercept+", Slope: "+slope})}function clearGraph(){$("#visualisation").empty()}var xInput,yInput,x=[],y=[],ny=0,nx=0,count,sumX=0,sumY=0,sumX2,sumXY,slope=0,intercept,xFinal=[],yFinal=[],lineY1,lineY2,lineX1=9999999,lineX2=0,maxY=0,dataset=[];