<!DOCTYPE html>
<html ng-app>
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Result Screen</title>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.6/angular.min.js"></script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js'></script>
    <script src='https://d3js.org/d3.v3.min.js'></script>
    <script src="chart.js"></script>
    <script src="frame.js"></script>
    <link rel="stylesheet" type="text/css" href="http://115.112.118.252/VirtualEST//assets/css/health.css" />
    <link rel="stylesheet" type="text/css" href="http://115.112.118.252/VirtualEST//assets/css/style.css" />
    <link rel="stylesheet" type="text/css" href="graph.css" />
    
</head>

<body>
    <div class="header">
        <div class="wrapper">
            <div class="head_left">Exercise Science Toolkit</div>
            <div id="patientname" class="head_right">Patient Name: {{yourName}}<input name="submitMedical" value="" title="edit client details" class="profile_edit_btn" type="submit" /></div>
        </div>
    </div>

    <div class="orng_container green_container">
        <div class="wrapper">
            <div class="orng_box_btn f_left">
                <a href="#" id="exit"><img src="http://115.112.118.252/VirtualEST//assets/images/back_green.jpg"></a>
            </div>
            <div class="orng_box_head f_left">
                <h3>Fitness Testing</h3>
                <p id="title">Anaerobic capacity / MAOD (screen 1)</p>
            </div>

            <div class="orng_box_btn f_right">
                <a href="#" onclick="window.print(); return false;"><img src="http://115.112.118.252/VirtualEST//assets/images/print_green.jpg"></a>
            </div>

            <div class="orng_box_btn f_right">
                <a href="#" class="info_icon_btn"><img src="http://115.112.118.252/VirtualEST//assets/images/info_green.jpg"></a>
            </div>

            <div class="orng_box_btn f_right">
                <form name="vpform" id="vpvirticaljumpgen" method="post">
                    <a href="#" class="vitual_btn"><img src="http://115.112.118.252/VirtualEST//assets/images/virtual_icon.png" style="margin-top: 12px;"></a>
                    <input type="hidden" name="vptype" value="vjump_vp">
                </form>
            </div>

            <div class="vitual_div"></div>
            <div class="overlay">&nbsp;</div>

            <div class="info_block">
                <div class="info_block_head">Maximal Accumulated Oxygen Deficit (MAOD)</div>
                <p>
                    A method of estimating the maximal anaerobic capacity is to use the method proposed by Medbø and colleagues in the 1980’s.The method is known as the oxygen deficit method. The maximal accumulated oxygen deficit [MAOD] is defined as the difference between the energy-demand of an exhausting bout of supramaximal exercise [usually expressed as an oxygen equivalent] and the oxygen uptake during the exercise. The Medbø MAOD method involves the following steps:
                </p>
                <br />
                <p>
                    [1] a regression equation between measured oxygen uptake and power output [workrate] is established from a number of sub-anaerobic threshold work rates. This is done by having the athlete work at a number of steady-state submaximal workrates, and generating a line of best fit to the data. The users needs to enter the work stages [in km per hour or power output in Watts in the appropriate fields] and then click ‘plot’. The regression between work rate [speed or power] and VO2 is established on screen one of the MAOD test. The energy demand is in oxygen equivalents and can be determined for any level of external work, for example, running speed or power on a bike using the regression equation established [and assuming a linear relationship even up to supramaximal intensity levels]. 
                </p>
                <br />
                <p>
                    [2] the subject then undergoes exercise to exhaustion at a supramaximal workrate, usually ~110 -125% of VO2max. The regression line established on screen one is used automatically to predict the energy demand of exercise [in oxygen-equivalents] at the chosen supramaximal workrate. The supramaximal exercise intensity should be estimated to result in exhaustion within about 70 – 180 seconds. During the supramaximal exercise VO2 is measured in intervals of between 10 – 30 s [preferably 10 s]. The measured VO2 values are entered on screen two of the MAOD test. The oxygen deficit is then determined as the total oxygen demand less the total measured oxygen uptake. It is reported as mL O2 equivalents / kg body mass. Typical values are also displayed and are based on published sex-specific norms.
                </p>
                <div class="info_block_foot">
                    <a href="#" class="lite_btn grey_btn f_right close">Close</a>
                </div>
            </div>

        </div>
    </div>

    <div class="wrapper">

        <!-- Form begins -->
        <form action="http://115.112.118.252/VirtualEST/index.php/Fitness/saveClientVerticalJumpInfo" method="post" accept-charset="utf-8" id="myform" name="myform">
            <div style="display:none">
                <input name="userid" value="1903" type="hidden" />
            </div>

            <div class="contain">
                <div class="side_menu" style="height: 1070px;">
                    <a href="#" class="menu_btn"></a>
                    <div class="drop_main" style="position: absolute; top:0; display:none;">
                        <ul>
                            <li>
                                <a href="#" id="anaerobic_strength"><img> Anaerobic strength and power</a>
                                <ul class="sub_menu">
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/vertical_jump">vertical jump</a></li>
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/flight_time">flight:contact time</a></li>
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/peak_power">peak power [W]</a></li>
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/strength">strength tests</a></li>

                                </ul>
                            </li>

                            <li>
                                <a href="#" id="anaerobic_capacity"><img> Anaerobic capacity</a>
                                <ul class="sub_menu">
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/total_work_done_30s">30 s total work [kJ]</a></li>
                                </ul>
                            </li>

                            <li>
                                <a href="#" id="aerobic_fitness"><img> Aerobic fitness</a>
                                <ul class="sub_menu">
                                    <li>
                                        <a href="#" id="VO2max">VO<sub>2max</sub> [mL/kg/min]</a>
                                        <ul class="inner_sub_menu">
                                            <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/submaximal_test">submaximal tests</a></li>
                                            <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/shuttle_test">20 m shuttle test</a></li>
                                            <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/v02max_test">measured VO<sub>2max</sub></a></li>
                                        </ul>
                                    </li>
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/lactate_threshold">lactate threshold</a></li>
                                    <li><a href="http://115.112.118.252/VirtualEST/index.php/Fitness/maod">maod test</a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>


            <!--Start right -->
            <div id="screen1" style="display: inline" class="right-section right-section_new">
                <div class="right-head">Maximal Accumulated Oxygen Deficit (MAOD)</div>
                <div id="input-vals">
                    <label for="bodymass"><strong>Body Mass (kg)</strong></label>
                    <input id="bodymass" tabindex=1 maxlength=6 class="cus-input" required autofocus oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" />
                    <label for="name"><strong>Name</strong></label>
                    <input id="name" tabindex=2 class="cus-input" ng-model="yourName" />
                    Female <input type="radio" style="display: inline" name="sex" value="female"> 
                    Male <input type="radio" style="display: inline" name="sex" value="male">
                </div>

                <br>
                <div id="results" style="text-align: center; "><strong></strong></div>

                <div class="field_row">
                    <ul class="field_24" id="workload" style="position: absolute;">
                        <label style="margin: 0; padding: 0">Workload</label>
                        W <input type="radio" style="display: inline" name="workloadUnits" value="power"> 
                        Kph <input type="radio" style="display: inline" name="workloadUnits" value="speed">
                        <li><input class="x" style="width: 50px;" tabindex=2 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=4 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=6 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=8 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=10 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=12 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=14 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=16 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=18 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=20 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=22 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="x" style="width: 50px;" tabindex=24 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li></li>
                    </ul>

                    <ul id="vo2" class="field_24" style="position: absolute; margin-left: 80px">
                        <label style="margin: 0; padding: 0;">VO2 Max</label>
                        <label style="margin: 0; padding: 0; text-align: center;">(L/min)</label>
                        <li><input class="y" style="width: 50px;" tabindex=3 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=5 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=7 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=9 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=11 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=13 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=15 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=17 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=19 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=21 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=23 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y" style="width: 50px;" tabindex=25 oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                    </ul>
                    <p id="yAxisLabel" style="position: absolute; margin-left: 115px; margin-top: 250px; transform: rotate(270deg);"></p>

                    <input class="lite_btn btn_green" onclick="s1Input()" name="plot" value="Plot Graph" type="button" style="position: absolute; margin-top: 370px; width: 122px" />
                    <input class="lite_btn btn_green" onclick="clearGraph('graphS1', true)" name="clear" value="Clear Data" type="button" style="position: absolute; margin-top: 420px; width: 122px" />
                    <input class="lite_btn btn_gray" id="nxtbtn" name="move" onclick="changeScreens()" value="Next Screen" type="button" disabled="true" style="position: absolute; margin-top: 470px; width: 122px" />

                    <svg id="graphS1" width="700" height="500" style="margin-left: 160px"></svg>
                    <p id="xAxisLabel" style="text-align: center;"></p>
                </div>
            </div>

            <div id="screen2" name="screen2" style="display: none" class="right-section right-section_new">
                <div class="right-head">Maximal Accumulated Oxygen Deficit (MAOD)</div>
                <div id="input-vals">
                    <label for="value"><strong>Time interval (s)</strong></label>
                    <input id="timeInterval" class="cus-input" required style="width: 40px;" maxlength="3" onkeypress="adjIntervalTable(this)" onkeydown="adjIntervalTable(this)" onChange="adjIntervalTable(this)" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" />
                    <label for="Vmax"><strong>Estimated V02max (L/min)</strong></label>
                    <input id="Vmax" style="width: 40px;" />
                    <label for="supramaximal"><strong>Supramaximal Workrate (%)</strong></label>
                    <input id="supramaximal" style="width: 40px;" />
                    <label for="reqworkload" id="reqWUnits"><p id=""></p></label>
                    <input id="reqworkload" style="width: 40px" />
                </div>

                <br />
                <div id="results2" style="text-align: center; "><strong>Results:</strong></div>

                <div class="field_row">
                    <ul class="field_24" id="interval" style="position: absolute;">
                        <label style="margin: 0; padding: 0;">Interval</label>
                        <label style="margin: 0; padding: 0; text-align: center;">(s)</label>
                        <li><input disabled class="x2" style="width: 50px;" value="1" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="2" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="3" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="4" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="5" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="6" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="7" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="8" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="9" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="10" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="11" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="12" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="13" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="14" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="15" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="16" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="17" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input disabled class="x2" style="width: 50px;" value="18" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>

                        <!--<li></li>-->
                    </ul>

                    <ul id="vo2" class="field_24" style="position: absolute; margin-left: 80px">
                        <label style="margin: 0; padding: 0;">V02 Max</label>
                        <label style="margin: 0; padding: 0; text-align: center;">(L/min)</label>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                        <li><input class="y2" style="width: 50px;" oninput="this.value = this.value.replace(/[^0-9.]/g, '').replace(/(\..*)\./g, '$1');" /></li>
                    </ul>

                    <p id="yAxisLabel2" style="position: absolute; margin-left: 115px; margin-top: 250px; transform: rotate(270deg);"></p>
                    <svg id="graphS2" width="700" height="500" style="position: relative; margin-left: 160px"></svg>
                    <p id="xAxisLabel2" style="text-align: center;"></p>

                    <input class="lite_btn btn_green" onclick="s2Input()" name="plot" value="Plot Graph" type="button" style="position: absolute; width: 122px" />
                    <input class="lite_btn btn_green" onclick="clearGraph('graphS2', true)" name="clear" value="Clear Data" type="button" style="position: absolute; margin-left: 128px;   width: 122px" />
                    <input class="lite_btn btn_green" id="move" name="move" onclick="changeScreens()" value="Next Screen" type="button" style="position: absolute; margin-left: 251px;" />

                    <br>
                    <svg id="graphS3" width="185" height="300" style="position: relative;"></svg>

                    



                </div>
            </div>
        </form>
    </div>
</body>
</html>
